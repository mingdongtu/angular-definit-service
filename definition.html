<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义服务</title>
    <script src="angular.js"></script>
</head>
<body>
<!--<div ng-app="myApp" ng-controller="myCtrl">-->

    <!--<p>255 的16进制是:</p>-->

    <!--<h1>{{hex}}</h1>-->

<!--</div>-->

<!--<p>自定义服务，用于转换16进制数：</p>-->

<!--<script>-->
    <!--var app = angular.module('myApp', []);-->
<!--//下面是核心：-->
<!--//    1、service()方法，传入一个对象和一个回调函数-->
    <!--app.service('hexaf', function() {-->
        <!--this.myFunc = function (x) {-->
            <!--return x.toString(16);-->
        <!--}-->
    <!--});-->
    <!--app.controller('myCtrl', function($scope, hexaf) {-->
        <!--$scope.hex = hexaf.myFunc(255);-->
    <!--});-->
<!--</script>-->
<!--自定义服务总结-->
<!--
1、首先利用app 调用service（）方法且传入两个参数，一个是要自定义的服务，另一个是回调函数

2、在回调函数里面给this添加一个方法，这个方法即包含服务的功能

3、app再调用控制器方法，传入两个参数，一个是控制器属性值，另一个参数是回调函数，并传入两个参数：一个是作用域$scope,
   另一个是自定义服务；

4、自定义服务调用service（）中回调函数this的方法，并传入相应参数，将其赋值给$scope的参数

-->
<!--尝试自己自定义一个服务：得出从1开始到某一个值的和-->
<div ng-app="myApp" ng-controller="myCls">
{{total}}
</div>
<script>
    var app=angular.module("myApp",[]);
//    开始创建自定义服务
    app.service('addNumber',function(){
           this.func=function(num){
               var init=1;
               var totalNum=1;
               for(var i=0;i<num-1;i++){
                   init++;
                   totalNum=totalNum+init;
               }
               return totalNum;
           }
    });
    app.controller('myCls',function($scope,addNumber){
        $scope.total=addNumber.func(100);
    })

</script>
</body>
</html>